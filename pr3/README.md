# Практична робота №3

### Завдання 3.1: Дослідження обмеження кількості відкритих файлів
Було запущено Docker-контейнер, в якому проведено експерименти з обмеженням кількості відкритих файлів (`ulimit -n`). Спочатку перевірялися поточні значення, після чого змінювались обмеження та перевірялася їхня допустимість. Аналогічні операції виконувалися від імені root-користувача для порівняння можливостей зміни лімітів у звичайного користувача та адміністратора.

**Висновок:**  
Обмеження на кількість відкритих файлів можна змінювати, але лише в межах встановлених системних меж (soft і hard ліміти). Root-користувач має розширені можливості щодо зміни цих параметрів.

### Завдання 3.2: Використання утиліти `perf` для аналізу продуктивності
У Docker-контейнері була встановлена утиліта `perf`, після чого проведено тестування впливу обмеження процесорного часу (`ulimit -t`) на виконання команд. Запускалися ресурсоємні процеси, а `perf stat` використовувався для збору даних про їхню продуктивність до та після встановлення лімітів.

**Висновок:**  
Процесорний час можна ефективно обмежувати за допомогою `ulimit`. При досягненні ліміту процес примусово завершується, що підтверджує роботу механізму контролю ресурсів.

### Завдання 3.3: Кидання кубика з обмеженням розміру файлу
Було реалізовано програму, яка імітує кидання шестигранного кубика та записує результати у файл. Перед виконанням встановлено обмеження на максимальний розмір файлу (`ulimit -f`). При досягненні цього ліміту запис припиняється, а програма обробляє помилку.

**Висновок:**  
Обмеження на розмір файлу працюють належним чином: процес не може записувати більше, ніж дозволено, що потрібно враховувати при розробці програм, що працюють із файлами.

### Завдання 3.4: Імітація лотереї з обмеженням процесорного часу
Було створено програму для генерації випадкових чисел у двох групах (7 з 49 і 6 з 36). Перед запуском встановлювався ліміт на процесорний час (`ulimit -t`). При його перевищенні процес завершувався, що підтверджувало коректність роботи обмеження.

**Висновок:**  
Ліміт процесорного часу дозволяє контролювати тривалість виконання ресурсомістких операцій. Якщо програма не завершується вчасно, ОС її примусово зупиняє.

### Завдання 3.5: Копіювання файлів з перевіркою лімітів
Розроблено програму для копіювання файлів. Вона перевіряє наявність аргументів, доступність вихідного файлу для читання та цільового файлу для запису. Також перед запуском встановлювався ліміт на розмір файлу (`ulimit -f`), що дозволило перевірити, як система обмежує запис.

**Висновок:**  
Обмеження на розмір файлу ефективно перешкоджають створенню файлів, які перевищують допустимий обсяг. Програма коректно обробляє помилки, що важливо для стабільної роботи у реальних умовах.

### Завдання 3.6: Демонстрація обмеження розміру стеку
Написано рекурсивну програму, яка викликає сама себе, споживаючи все більше пам’яті стеку. Перед виконанням встановлено обмеження на розмір стеку (`ulimit -s`). При його досягненні програма завершувалась з Segmentation fault.

**Висновок:**  
Розмір стеку відіграє ключову роль у роботі рекурсивних функцій. Обмеження може запобігти неконтрольованому росту споживання пам’яті, що є важливим у системах з обмеженими ресурсами.

### Завдання 15: Дослідження впливу `ulimit -f` на роботу програми, що пише великі файли
Було розроблено програму для дослідження впливу ліміту розміру файлу на запис великих файлів. Програма записує дані у файл до досягнення ліміту. При досягненні ліміту файл не може бути записаний, і програма обробляє помилку, якщо ліміт буде перевищено.

**Висновок:**  
`ulimit -f` ефективно обмежує максимальний розмір файлу, що записується, що є важливим для контролю над розміром файлів у програмі. Це дозволяє запобігти переповненню файлової системи та зберегти контроль над витратами ресурсів.

---

**Висновок:**  
У ході роботи було проведено низку експериментів із системними обмеженнями ресурсів у середовищі Docker. Досліджено обмеження на кількість відкритих файлів, час роботи процесів, максимальний розмір файлу та розмір стеку. Розроблені програми, що тестують ці обмеження, коректно обробляють ситуації, коли ліміти досягнуті. Отримані результати підтвердили, що `ulimit` є ефективним інструментом контролю ресурсів, який дозволяє запобігти перевантаженню системи. Врахування цих обмежень є важливим для написання надійного та безпечного програмного забезпечення.
